<html>
<head>
   <title>PALM++ Project: lattice library graphproperties.h</title>
</head>
<body>

<h1>
PALM++ Project: lattice library</h1>

<h2>Header file: graphproperties.h</h2>

includes property types for the graphs used in the lattice library,
as well as undocumented internal traits classes to implement the
unfinished <a href="graphconcepts.html#ReflectablePropertyGraph"> ReflectablePropertyGraph</a>
concept.

<h3>Synopsis</h3>
<blockquote><pre>
namespace lattice {

  struct vertex_type_t { typedef boost::vertex_property_tag kind; };
  struct coordinate_t { typedef boost::vertex_property_tag kind; };
  struct parity_t { typedef boost::vertex_property_tag kind; };
  using boost::vertex_index_t;

  struct edge_type_t { typedef boost::edge_property_tag kind; };
  struct boundary_crossing_t { typedef boost::edge_property_tag kind; };
  struct source_offset_t { typedef boost::edge_property_tag kind; };
  struct target_offset_t { typedef boost::edge_property_tag kind; };
  using boost::edge_index_t;

  struct graph_name_t { typedef boost::graph_property_tag kind; };
  struct dimension_t { typedef boost::graph_property_tag kind; };

  typedef boost::adjacency_list&lt;boost::vecS,boost::vecS,boost::undirectedS,
    /* ...*/ > coordinate_graph_type;

}


</pre></blockquote>
<H3 name="coordinate_graph_type">Property types and the <tt>coordinate_graph_type</tt> type</H3>
The <tt>coordinate_graph_type</tt> type is a Boost adjacency list graph
implementing the following properties as internal properties. These are:
<table border="1">
<tr><td><b>Vertex property</b></td><td><b>Type</b></td><td><b>Note</b></td></tr>
<tr><td><tt>vertex_type_t</tt></td><td><tt>int32_t</tt></td>
<td>The type (color) of the vertex</td></tr>
<tr><td><tt>coordinate_t</tt></td><td><tt>std::vector&lt;double></tt></td>
<td>The coordinate of the vertex</td></tr>
<tr><td><tt>vertex_index_t</tt></td><td><tt></tt></td>
<td>The vertex index, predefined for <tt>boost::adjacency_list</tt></td></tr>
<tr><td><b>Edge property</b></td><td><b>Type</b></td><td><b>Note</b></td></tr>
<tr><td><tt>edge_type_t</tt></td><td><tt>int32_t</tt></td>
<td>The type (color) of the edge</td></tr>
<tr><td><tt>edge_index_t</tt></td><td><tt>int32_t</tt></td>
<td>The edge index</td></tr>
<tr><td><tt>boundary_crossing_t</tt></td><td><tt>boundary_crossing</tt></td>
<td>Indicates whether an edge crosses a boundary of the lattice.</td></tr>
<tr><td><b>Graph property</b></td><td><b>Type</b></td><td><b>Note</b></td></tr>
<tr><td><tt>graph_name_t </tt></td><td><tt>std::string</tt></td>
<td>The name of the graph</td></tr>
<tr><td><tt>dimension_t</tt></td><td><tt> std::size_t</tt></td>
<td>The dimension of the graph (dimension of the vertex coordinates)</td></tr>
</table>
<H3 name="coordinate_graph_type"><A name="boundary_crossing"/>The <tt>boundary_crossing</tt> type</H3>
is used for edge properties to store whether an edge goes across a lattice boundary (of a periodic lattice) in one or more dimensions. For each dimension an egde can cross either in the negative or posiove direction, where the direction is defined relatice to the (for undirected graphs artificial) choice of source and target vertex when the edge is accessed by iterating over all edges of the graph. 
<P>
If more than one implementation should be useful, this type could be abstracted and described by a concept instead of a concrete implementation.
<H4>Synopsis</H4>
<blockquote><pre> 
struct boundary_crossing {
  typedef unsigned int dimension_type;
  typedef int direction_type;

  boundary_crossing();
  operator bool() const;  
  direction_type crosses(dimension_type dim) const;
  const boundary_crossing&amp; set_crossing(dimension_type dim, direction_type dir);
  const boundary_crossing&amp; invert();
};
</pre></blockquote>
<H4>Member functions</H4>
<blockquote><pre> 
boundary_crossing();
</pre></blockquote>
The property object constructed by default describes an edge not crossing any boundary.
<blockquote><pre> 
operator bool() const;  
</pre></blockquote>
returns true if the edge crosses any boundary and false otherwise.
<blockquote><pre> 
direction_type crosses(dimension_type dim) const;
</pre></blockquote>
returns +1 or -1 if the edge crosses a boundary in the <tt>dim</tt>-th dimension in the positive or negative direction and 0 if it does not cross the boundary.
<blockquote><pre> 
const boundary_crossing&amp; set_crossing(dimension_type dim, direction_type dir);
</pre></blockquote>
sets the property to a corssing of the <tt>dim</tt>-th dimensional boundary in the positive direction for <tt>dir</tt>=+1, in the negative direction for <tt>dir</tt>=-1, or to no crossing for  <tt>dir</tt>=0. In the current implementation <tt>dim</tt> is restricted to values between 0 and 3. 
<blockquote><pre> 
const boundary_crossing&amp; invert();
</pre></blockquote>
inverts the direction of all boundary crossings. This is the boundary crossing property for an edge going in the opposite direction.

<HR>
<ADDRESS>(c) 2000-2003 by 
<A HREF="mailto:troyer@comp-phys.org">Matthias Troyer</A></ADDRESS>
</body>
</html>

</body>
</html>
